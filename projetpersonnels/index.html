<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projets personnels ‚Äî Tim Bidot‚ÄëOrignac</title>
  <link rel="stylesheet" href="../projetscolaire/style.css" />
  <link rel="stylesheet" href="style.css" />
  <script>
    (function () {
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      document.documentElement.dataset.theme = saved || (prefersDark ? 'night' : 'day');
    })();
  </script>
</head>
<body>

  <div class="binary-wall" aria-hidden="true">
    <div class="binary-line">0010011101100101101001100101010010100100101101100101101001100</div>
    <div class="binary-line">111110011100010110010111100111000101100101111001110001011001</div>
    <div class="binary-line">000110010111010100110101000011001011101010011010100001100101</div>
    <div class="binary-line">111110001100000111000111111000110000011100011111100011000001</div>
    <div class="binary-line">000000011111101111000000001111110111100000000111111011110000</div>
  </div>

  <header class="page-header">
    <div class="header-left">
      <h1 class="code-title"><span class="bracket">&lt;</span>PROJETS_PERSONNELS<span class="bracket">/&gt;</span></h1>
      <p class="subtitle">Scripts d√©fensifs, notes de labs et mini‚Äëoutils ‚Äî cybers√©curit√© (cadre autoris√©)</p>
    </div>

    <button id="theme-toggle" class="theme-toggle" aria-label="Basculer le th√®me">
      <span class="icon-sun" aria-hidden="true">‚òÄÔ∏è</span>
      <span class="icon-moon" aria-hidden="true">üåô</span>
    </button>
  </header>

  <main class="wrapper">
    <section class="intro">
      <h2>Objectif</h2>
      <p>
        Cette page regroupe des <strong>mini‚Äëprojets personnels</strong> (scripts et notes) orient√©s
        <strong>cybers√©curit√©</strong> et <strong>bonnes pratiques</strong>, r√©alis√©s dans un cadre <strong>autoris√©</strong>
        (formation / lab). Je ne publie pas de payloads ni de code d‚Äôexploitation : le but est de montrer une d√©marche,
        des outils, et des contre‚Äëmesures.
      </p>
    </section>

    <section class="controls" aria-label="Filtres et tri">
      <div class="control-block">
        <div class="control-label">Domaine</div>
        <div class="filter-buttons" role="group" aria-label="Filtrer par domaine">
          <button class="filter-btn active" data-domain="all" type="button">Tous</button>
          <button class="filter-btn" data-domain="Cybers√©curit√©" type="button">Cybers√©curit√©</button>
          <button class="filter-btn" data-domain="R√©seaux" type="button">R√©seaux</button>
          <button class="filter-btn" data-domain="T√©l√©communications" type="button">T√©l√©communications</button>
          <button class="filter-btn" data-domain="D√©veloppement & donn√©es" type="button">D√©v &amp; data</button>
        </div>
      </div>

      <div class="control-row">
        <div class="control-block">
          <label class="control-label" for="typeSelect">Type</label>
          <select id="typeSelect" class="control-input">
            <option value="all">Tous</option>
            <option value="Script / outil">Script / outil</option>
            <option value="Notes / write‚Äëup">Notes / write‚Äëup</option>
            <option value="Lab">Lab</option>
          </select>
        </div>

        <div class="control-block">
          <label class="control-label" for="sortSelect">Tri</label>
          <select id="sortSelect" class="control-input">
            <option value="featured">Recommand√©</option>
            <option value="az">Nom (A ‚Üí Z)</option>
            <option value="domain">Domaine</option>
            <option value="type">Type</option>
          </select>
        </div>

        <div class="control-block control-search">
          <label class="control-label" for="searchInput">Recherche</label>
          <input id="searchInput" class="control-input" type="search" placeholder="ex : SQL, headers, logs, Burp‚Ä¶" />
        </div>
      </div>
    </section>

    <p class="results" id="resultsCount" aria-live="polite"></p>
    <section class="grid" id="projectsGrid" aria-label="Liste des projets"></section>
  </main>

  <footer class="page-footer">
    <a href="../index.html" class="footer-left-button">‚Ü© Retour au Portfolio</a>
    <a href="../projetscolaire/index.html" class="footer-right-button">üìÇ Projets universitaires</a>
  </footer>

  <script>
    // Th√®me
    document.getElementById('theme-toggle')?.addEventListener('click', () => {
      const cur = document.documentElement.dataset.theme === 'night' ? 'day' : 'night';
      document.documentElement.dataset.theme = cur;
      localStorage.setItem('theme', cur);
    });

    const projects = [
      {
        id: "sqli-prevention",
        featured: 1,
        type: "Script / outil",
        domain: "Cybers√©curit√©",
        title: "Pr√©vention SQL injection ‚Äî requ√™tes param√©tr√©es & tests",
        cover: "../photo/a.png",
        description: "Exemples concrets de requ√™tes param√©tr√©es (Python), validation d‚Äôentr√©es et cas de tests pour r√©duire le risque SQLi.",
        tags: ["SQL", "Param√©trage", "OWASP", "Bonnes pratiques"],
        details: [
          "Exemples avec param√®tres (placeholders) ‚Äî pas de concat√©nation de cha√Ænes",
          "Rappels sur l‚Äôescaping et les limites des blacklists",
          "Mini‚Äëtests unitaires (cas attendus / cas invalides)"
        ],
        snippet: `# sql_prevention_examples.py
# D√©mo : requ√™tes param√©tr√©es (pr√©vention SQLi)

import sqlite3

conn = sqlite3.connect('demo.db')
cur = conn.cursor()

username = 'alice'
# ‚úÖ Param√©tr√© : le moteur g√®re l‚Äô√©chappement
cur.execute('SELECT id FROM users WHERE username = ?', (username,))
print(cur.fetchone())
`,
        links: [
          { label: "Script", href: "scripts/sql_prevention_examples.py" }
        ]
      },
      {
        id: "headers-audit",
        featured: 1,
        type: "Script / outil",
        domain: "Cybers√©curit√©",
        title: "Audit d‚Äôent√™tes HTTP ‚Äî checklist s√©curit√© (CSP, HSTS, etc.)",
        cover: "../images/shield.svg",
        description: "Petit outil d‚Äôinventaire des ent√™tes de s√©curit√© sur une liste d‚ÄôURL (usage : environnements de test / sites dont vous avez l‚Äôautorisation).",
        tags: ["HTTP", "Headers", "CSP", "HSTS"],
        details: [
          "V√©rifie la pr√©sence de headers cl√©s (HSTS, CSP, X-Frame-Options‚Ä¶)",
          "Sortie lisible + r√©sum√© des manquants",
          "Base pour une checklist de durcissement"
        ],
        snippet: `# http_headers_audit.py
# Audit simple d‚Äôent√™tes HTTP de s√©curit√©

from urllib.request import Request, urlopen

SEC_HEADERS = [
    'strict-transport-security',
    'content-security-policy',
    'x-frame-options',
    'x-content-type-options',
    'referrer-policy'
]

req = Request('https://example.com', method='HEAD')
with urlopen(req, timeout=10) as r:
    headers = {k.lower(): v for k, v in r.headers.items()}
    missing = [h for h in SEC_HEADERS if h not in headers]
    print('Missing:', missing)
`,
        links: [
          { label: "Script", href: "scripts/http_headers_audit.py" }
        ]
      },
      {
        id: "log-bruteforce",
        featured: 0,
        type: "Script / outil",
        domain: "Cybers√©curit√©",
        title: "Analyse de logs ‚Äî d√©tection de tentatives de brute-force",
        cover: "../photo/3.jpg",
        description: "Analyse de fichiers de logs (auth / applis) pour rep√©rer des rafales d‚Äô√©checs et g√©n√©rer un r√©sum√© par IP/utilisateur.",
        tags: ["Logs", "D√©tection", "Python", "SIEM (notions)"],
        details: [
          "Regroupe les √©v√©nements par IP et fen√™tre de temps",
          "Sortie CSV possible pour exploitation",
          "Approche ‚Äòd√©fense‚Äô : observation et corr√©lation"
        ],
        snippet: `# log_bruteforce_detector.py
# D√©tection simple de rafales d‚Äô√©checs (ex : SSH)

import re
from collections import Counter

PAT = re.compile(r"Failed password.*from (?P<ip>\d+\.\d+\.\d+\.\d+)")
counts = Counter()

with open('auth.log', 'r', errors='ignore') as f:
    for line in f:
        m = PAT.search(line)
        if m:
            counts[m.group('ip')] += 1

for ip, n in counts.most_common(10):
    print(ip, n)
`,
        links: [
          { label: "Script", href: "scripts/log_bruteforce_detector.py" }
        ]
      },
      {
        id: "burp-notes",
        featured: 0,
        type: "Notes / write‚Äëup",
        domain: "Cybers√©curit√©",
        title: "Web Security Academy (SQLi) ‚Äî notes (sans payloads)",
        cover: "../photo/2.jpg",
        description: "Synth√®se personnelle : risques SQLi, bonnes pratiques, et points de contr√¥le lors d‚Äôun test (cadre lab).",
        tags: ["Burp Suite", "SQLi", "Rem√©diation"],
        details: [
          "Rappels OWASP Top 10 et m√©canismes SQLi",
          "Checklist de rem√©diation (param√©trage, droits, erreurs)",
          "Sans payloads ni √©tapes d‚Äôexploitation"
        ],
        snippet: `# notes_portswigger_sqli.md
- Comprendre la surface d‚Äôattaque (entr√©es utilisateur, endpoints)
- Rem√©diation : requ√™tes param√©tr√©es, moindres privil√®ges, gestion des erreurs
- V√©rification : tests de non‚Äër√©gression
`,
        links: [
          { label: "Notes", href: "scripts/notes_portswigger_sqli.md" },
          { label: "R√©f√©rence PortSwigger", href: "https://portswigger.net/web-security/sql-injection" }
        ]
      },
      {
        id: "telecom-budget",
        featured: 0,
        type: "Script / outil",
        domain: "T√©l√©communications",
        title: "Calculateur budget de liaison ‚Äî att√©nuation & marge",
        cover: "../images/telecom.svg",
        description: "Petit script de calcul (pertes, gains, marge) pour documenter un lien (cuivre/fibre/radio) en TP.",
        tags: ["Transmission", "Budget", "Python"],
        details: [
          "Entr√©es : puissance √©mission, gains, pertes, sensibilit√©",
          "Sortie : puissance re√ßue + marge",
          "Utile pour v√©rifier des hypoth√®ses de TP"
        ],
        snippet: `# link_budget_calc.py
# Budget de liaison simplifi√©

ptx_dbm = 0.0
gain_db = 6.0
loss_db = 12.0
rx_sens_dbm = -80.0

prx_dbm = ptx_dbm + gain_db - loss_db
margin_db = prx_dbm - rx_sens_dbm
print('Prx(dBm)=', prx_dbm, 'Margin(dB)=', margin_db)
`,
        links: [
          { label: "Script", href: "scripts/link_budget_calc.py" }
        ]
      },
      {
        id: "dev-clean-input",
        featured: 0,
        type: "Lab",
        domain: "D√©veloppement & donn√©es",
        title: "Validation d‚Äôentr√©es ‚Äî r√®gles & tests (exemples)",
        cover: "../images/js.png",
        description: "Mini‚Äëlab : r√®gles de validation, normalisation et tests (but : r√©duire les erreurs et les vuln√©rabilit√©s c√¥t√© web).",
        tags: ["Validation", "Tests", "Web"],
        details: [
          "Normaliser et valider c√¥t√© serveur",
          "Messages d‚Äôerreur non bavards",
          "Tests : entr√©es limites et formats invalides"
        ],
        snippet: `// Exemple (JS) : validation simple
function isEmail(s){
  return /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(String(s).trim());
}
`,
        links: []
      }
    ];

    const grid = document.getElementById('projectsGrid');
    const resultsCount = document.getElementById('resultsCount');
    const typeSelect = document.getElementById('typeSelect');
    const sortSelect = document.getElementById('sortSelect');
    const searchInput = document.getElementById('searchInput');
    const filterBtns = Array.from(document.querySelectorAll('.filter-btn'));

    let currentDomain = 'all';

    function escapeHtml(str) {
      return String(str)
        .replaceAll('&', '&amp;')
        .replaceAll('<', '&lt;')
        .replaceAll('>', '&gt;')
        .replaceAll('"', '&quot;')
        .replaceAll("'", '&#039;');
    }

    function render(list) {
      grid.innerHTML = '';
      for (const p of list) {
        const art = document.createElement('article');
        art.className = 'card';
        art.dataset.domain = p.domain;
        art.dataset.type = p.type;
        art.dataset.title = p.title;

        const tagsHtml = (p.tags || []).map(t => `<span class="tag">${escapeHtml(t)}</span>`).join('');
        const detailsHtml = (p.details && p.details.length)
          ? `<details class="card-details">
              <summary>D√©tails</summary>
              <ul>${p.details.map(d => `<li>${escapeHtml(d)}</li>`).join('')}</ul>
              ${p.snippet ? `<pre class="code-block"><code>${escapeHtml(p.snippet)}</code></pre>` : ''}
            </details>`
          : '';

        const linksHtml = (p.links && p.links.length)
          ? `<div class="card-links">${p.links.map(l => `<a class="card-link" href="${l.href}" ${l.href.startsWith('http') ? 'target="_blank" rel="noopener noreferrer"' : ''}>${escapeHtml(l.label)}</a>`).join('')}</div>`
          : '';

        art.innerHTML = `
          <a class="card-cover" href="${p.cover}" target="_blank" rel="noopener noreferrer">
            <img src="${p.cover}" alt="Couverture ‚Äî ${escapeHtml(p.title)}" />
            <div class="card-meta">
              <span class="badge">${escapeHtml(p.type)}</span>
              <span class="domain">${escapeHtml(p.domain)}</span>
            </div>
          </a>
          <div class="card-body">
            <h3 class="card-title">${escapeHtml(p.title)}</h3>
            <p class="card-desc">${escapeHtml(p.description)}</p>
            <div class="tags">${tagsHtml}</div>
            ${linksHtml}
            ${detailsHtml}
          </div>
        `;

        grid.appendChild(art);
      }
    }

    function applyFilters() {
      const t = typeSelect.value;
      const q = searchInput.value.trim().toLowerCase();

      let list = projects.filter(p => {
        const okDomain = currentDomain === 'all' || p.domain === currentDomain;
        const okType = t === 'all' || p.type === t;
        const blob = `${p.title} ${p.description} ${(p.tags || []).join(' ')}`.toLowerCase();
        const okQuery = !q || blob.includes(q);
        return okDomain && okType && okQuery;
      });

      const sort = sortSelect.value;
      if (sort === 'featured') {
        list = list.slice().sort((a, b) => (b.featured || 0) - (a.featured || 0));
      } else if (sort === 'az') {
        list = list.slice().sort((a, b) => a.title.localeCompare(b.title, 'fr'));
      } else if (sort === 'domain') {
        list = list.slice().sort((a, b) => a.domain.localeCompare(b.domain, 'fr'));
      } else if (sort === 'type') {
        list = list.slice().sort((a, b) => a.type.localeCompare(b.type, 'fr'));
      }

      resultsCount.textContent = `${list.length} projet(s) affich√©(s)`;
      render(list);
    }

    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        filterBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentDomain = btn.dataset.domain;
        applyFilters();
      });
    });

    typeSelect.addEventListener('change', applyFilters);
    sortSelect.addEventListener('change', applyFilters);
    searchInput.addEventListener('input', applyFilters);

    applyFilters();
  </script>
</body>
</html>
